import{p as dt,o as Mt,i as Lt,r as ct,a as lt}from"./props.Dthlb6kX.js";import{q as pt,v as Wt,f as _,k as C,t as gt,i as o,n as Z,a as m,p as Ot,s as b,b as Kt,h as y,m as M,c as w,r as x,u as k,l as yt,j as N}from"./utils.CdIXY0zR.js";import{i as E}from"./if.BONos1Ah.js";import{e as Nt,i as jt}from"./each.BTND_tt1.js";import{I as j,h as tt}from"./Icon.BL4hyufk.js";import{b as ft}from"./input.BVn57Yrq.js";import{I as mt}from"./zh_TW.DuIa4DWc.js";import{i as bt}from"./translation.2tC6ev5g.js";import{u as wt}from"./url-utils.C_RkGIn2.js";import{N as z}from"./navBarConfig.CJ6ycCKD.js";/* empty css                        */function zt(i,t){if(!i||typeof i!="string"){console.warn("navigateToPage: Invalid URL provided");return}if(i.startsWith("http://")||i.startsWith("https://")||i.startsWith("//")){window.open(i,"_blank");return}if(i.startsWith("#")){const e=document.getElementById(i.slice(1));e&&e.scrollIntoView({behavior:"smooth"});return}if(typeof window<"u"&&window.swup)try{t?.replace||window.swup.navigate(i)}catch(e){console.error("Swup navigation failed:",e),xt(i)}else xt(i)}function xt(i,t){window.location.href=i}const Bt={INDEX_NOT_FOUND:"index_not_found"};class T extends Error{name="MeiliSearchError"}class vt extends T{name="MeiliSearchApiError";cause;response;constructor(t,e){super(e?.message??`${t.status}: ${t.statusText}`),this.response=t,e!==void 0&&(this.cause=e)}}class kt extends T{name="MeiliSearchRequestError";constructor(t,e){super(`Request to ${t} has failed`,{cause:e})}}class Rt extends T{name="MeiliSearchRequestTimeOutError";cause;constructor(t,e){super(`request timed out after ${t}ms`),this.cause={timeout:t,requestInit:e}}}class Ht extends T{name="MeiliSearchTaskTimeOutError";cause;constructor(t,e){super(`timeout of ${e}ms has exceeded on task ${t} when waiting for it to be resolved.`),this.cause={taskUid:t,timeout:e}}}const Ut="0.54.0",Jt={version:Ut};function Vt(i){return i.startsWith("https://")||i.startsWith("http://")?i:`http://${i}`}function Xt(i){return i.endsWith("/")||(i+="/"),i}function Gt(i,t){for(const[e,s]of Object.entries(t))s!=null&&i.set(e,Array.isArray(s)?s.join():s instanceof Date?s.toISOString():String(s))}function Qt(i,t){const e="X-Meilisearch-Client",s=`Meilisearch JavaScript (v${Jt.version})`,a="Content-Type",r="Authorization",n=new Headers(t);if(i.apiKey&&!n.has(r)&&n.set(r,`Bearer ${i.apiKey}`),n.has(a)||n.set(a,"application/json"),i.clientAgents!==void 0){const u=i.clientAgents.concat(s);n.set(e,u.join(" ; "))}else n.set(e,s);return n}const B=Symbol("<timeout>");function $t(i,t){const{signal:e}=i,s=new AbortController;if(e!=null){let a=null;if(e.aborted)s.abort(e.reason);else{const r=()=>s.abort(e.reason);e.addEventListener("abort",r,{once:!0}),a=()=>e.removeEventListener("abort",r),s.signal.addEventListener("abort",a,{once:!0})}return()=>{if(e.aborted)return;const r=setTimeout(()=>s.abort(B),t),n=()=>{clearTimeout(r),a!==null&&s.signal.removeEventListener("abort",a)};return e.addEventListener("abort",n,{once:!0}),()=>{e.removeEventListener("abort",n),n()}}}return i.signal=s.signal,()=>{const a=setTimeout(()=>s.abort(B),t);return()=>clearTimeout(a)}}class et{#t;#e;#s;#i;constructor(t){const e=Xt(Vt(t.host));try{this.#t=new URL(e)}catch(s){throw new T("The provided host is not valid",{cause:s})}this.#e={...t.requestInit,headers:Qt(t,t.requestInit?.headers)},this.#s=t.httpClient,this.#i=t.timeout}#n(t,e){if(t===void 0&&e===void 0)return this.#e.headers;const s=new Headers(t);e!==void 0&&!s.has("Content-Type")&&s.set("Content-Type",e);for(const[a,r]of this.#e.headers)s.has(a)||s.set(a,r);return s}#r({path:t,method:e,params:s,contentType:a,body:r,extraRequestInit:n}){const u=new URL(t,this.#t);s!==void 0&&Gt(u.searchParams,s);const d={method:e,body:a===void 0||typeof r!="string"?JSON.stringify(r):r,...n,...this.#e,headers:this.#n(n?.headers,a)};return{url:u,init:d}}async#a(t){const{url:e,init:s}=this.#r(t),r=(this.#i!==void 0?$t(s,this.#i):null)?.();let n,u;try{if(this.#s!==void 0)return await this.#s(e,s);n=await fetch(e,s),u=await n.text()}catch(R){throw new kt(e.toString(),Object.is(R,B)?new Rt(this.#i,s):R)}finally{r?.()}const d=u===""?void 0:JSON.parse(u);if(!n.ok)throw new vt(n,d);return d}get(t){return this.#a(t)}post(t){return this.#a({...t,method:"POST"})}put(t){return this.#a({...t,method:"PUT"})}patch(t){return this.#a({...t,method:"PATCH"})}delete(t){return this.#a({...t,method:"DELETE"})}postStream(t){return this.#o({...t,method:"POST"})}async#o(t){const{url:e,init:s}=this.#r(t),r=(this.#i!==void 0?$t(s,this.#i):null)?.();let n;try{if(this.#s!==void 0){const u=await this.#s(e,s);if(!(u instanceof ReadableStream))throw new T("Custom HTTP client must return a ReadableStream for streaming requests");return u}n=await fetch(e,s)}catch(u){throw new kt(e.toString(),Object.is(u,B)?new Rt(this.#i,s):u)}finally{r?.()}if(!n.ok){const u=await n.text(),d=u===""?void 0:JSON.parse(u);throw new vt(n,d)}if(!n.body)throw new T("Response body is null - server did not return a readable stream");return n.body}}const Tt=Symbol("<task timeout>");function St(i){return function(t){return Object.defineProperty(t,"waitTask",{async value(e){return await i.waitForTask(await t,e)}})}}const Yt=i=>typeof i=="number"?i:i.taskUid;class st{#t;#e;#s;#i;constructor(t,e){this.#t=t,this.#e=e?.timeout??5e3,this.#s=e?.interval??50,this.#i=St(this)}async getTask(t,e){return await this.#t.get({path:`tasks/${t}`,extraRequestInit:e})}async getTasks(t){return await this.#t.get({path:"tasks",params:t})}async waitForTask(t,e){const s=Yt(t),a=e?.timeout??this.#e,r=e?.interval??this.#s,n=a>0?new AbortController:null,u=n!==null?setTimeout(()=>void n.abort(Tt),a):void 0;try{for(;;){const d=await this.getTask(s,{signal:n?.signal});if(d.status!=="enqueued"&&d.status!=="processing")return clearTimeout(u),d;r>0&&await new Promise(R=>setTimeout(R,r))}}catch(d){throw Object.is(d.cause,Tt)?new Ht(s,a):d}}async*waitForTasksIter(t,e){for await(const s of t)yield await this.waitForTask(s,e)}async waitForTasks(...t){const e=[];for await(const s of this.waitForTasksIter(...t))e.push(s);return e}cancelTasks(t){return this.#i(this.#t.post({path:"tasks/cancel",params:t}))}deleteTasks(t){return this.#i(this.#t.delete({path:"tasks",params:t}))}}function it(i,t){const e=St(t);return{post:(...s)=>e(i.post(...s)),put:(...s)=>e(i.put(...s)),patch:(...s)=>e(i.patch(...s)),delete:(...s)=>e(i.delete(...s))}}class q{uid;primaryKey;createdAt;updatedAt;httpRequest;tasks;#t;constructor(t,e,s){this.uid=e,this.primaryKey=s,this.httpRequest=new et(t),this.tasks=new st(this.httpRequest,t.defaultWaitOptions),this.#t=it(this.httpRequest,this.tasks)}async search(t,e,s){return await this.httpRequest.post({path:`indexes/${this.uid}/search`,body:{q:t,...e},extraRequestInit:s})}async searchGet(t,e,s){const r={q:t,...e,filter:(n=>{if(typeof n=="string")return n;if(Array.isArray(n))throw new T("The filter query parameter should be in string format when using searchGet")})(e?.filter),sort:e?.sort?.join(","),facets:e?.facets?.join(","),attributesToRetrieve:e?.attributesToRetrieve?.join(","),attributesToCrop:e?.attributesToCrop?.join(","),attributesToHighlight:e?.attributesToHighlight?.join(","),vector:e?.vector?.join(","),attributesToSearchOn:e?.attributesToSearchOn?.join(",")};return await this.httpRequest.get({path:`indexes/${this.uid}/search`,params:r,extraRequestInit:s})}async searchForFacetValues(t,e){return await this.httpRequest.post({path:`indexes/${this.uid}/facet-search`,body:t,extraRequestInit:e})}async searchSimilarDocuments(t){return await this.httpRequest.post({path:`indexes/${this.uid}/similar`,body:t})}async getRawInfo(){const t=await this.httpRequest.get({path:`indexes/${this.uid}`});return this.primaryKey=t.primaryKey,this.updatedAt=new Date(t.updatedAt),this.createdAt=new Date(t.createdAt),t}async fetchInfo(){return await this.getRawInfo(),this}async fetchPrimaryKey(){return this.primaryKey=(await this.getRawInfo()).primaryKey,this.primaryKey}static create(t,e={},s){const a=new et(s);return it(a,new st(a)).post({path:"indexes",body:{...e,uid:t}})}update(t){return this.#t.patch({path:`indexes/${this.uid}`,body:t})}delete(){return this.#t.delete({path:`indexes/${this.uid}`})}async getStats(){return await this.httpRequest.get({path:`indexes/${this.uid}/stats`})}async getDocuments(t){const e=`indexes/${this.uid}/documents`;return t?.filter!==void 0?await this.httpRequest.post({path:`${e}/fetch`,body:t}):await this.httpRequest.get({path:e,params:t})}async getDocument(t,e){const s=Array.isArray(e?.fields)?e.fields.join():void 0;return await this.httpRequest.get({path:`indexes/${this.uid}/documents/${t}`,params:{...e,fields:s}})}addDocuments(t,e){return this.#t.post({path:`indexes/${this.uid}/documents`,params:e,body:t})}addDocumentsFromString(t,e,s){return this.#t.post({path:`indexes/${this.uid}/documents`,body:t,params:s,contentType:e})}addDocumentsInBatches(t,e=1e3,s){const a=[];for(let r=0;r<t.length;r+=e)a.push(this.addDocuments(t.slice(r,r+e),s));return a}updateDocuments(t,e){return this.#t.put({path:`indexes/${this.uid}/documents`,params:e,body:t})}updateDocumentsInBatches(t,e=1e3,s){const a=[];for(let r=0;r<t.length;r+=e)a.push(this.updateDocuments(t.slice(r,r+e),s));return a}updateDocumentsFromString(t,e,s){return this.#t.put({path:`indexes/${this.uid}/documents`,body:t,params:s,contentType:e})}deleteDocument(t){return this.#t.delete({path:`indexes/${this.uid}/documents/${t}`})}deleteDocuments(t){const s=!Array.isArray(t)&&typeof t=="object"?"documents/delete":"documents/delete-batch";return this.#t.post({path:`indexes/${this.uid}/${s}`,body:t})}deleteAllDocuments(){return this.#t.delete({path:`indexes/${this.uid}/documents`})}updateDocumentsByFunction(t){return this.#t.post({path:`indexes/${this.uid}/documents/edit`,body:t})}async getSettings(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings`})}updateSettings(t){return this.#t.patch({path:`indexes/${this.uid}/settings`,body:t})}resetSettings(){return this.#t.delete({path:`indexes/${this.uid}/settings`})}async getPagination(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/pagination`})}updatePagination(t){return this.#t.patch({path:`indexes/${this.uid}/settings/pagination`,body:t})}resetPagination(){return this.#t.delete({path:`indexes/${this.uid}/settings/pagination`})}async getSynonyms(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/synonyms`})}updateSynonyms(t){return this.#t.put({path:`indexes/${this.uid}/settings/synonyms`,body:t})}resetSynonyms(){return this.#t.delete({path:`indexes/${this.uid}/settings/synonyms`})}async getStopWords(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/stop-words`})}updateStopWords(t){return this.#t.put({path:`indexes/${this.uid}/settings/stop-words`,body:t})}resetStopWords(){return this.#t.delete({path:`indexes/${this.uid}/settings/stop-words`})}async getRankingRules(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/ranking-rules`})}updateRankingRules(t){return this.#t.put({path:`indexes/${this.uid}/settings/ranking-rules`,body:t})}resetRankingRules(){return this.#t.delete({path:`indexes/${this.uid}/settings/ranking-rules`})}async getDistinctAttribute(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/distinct-attribute`})}updateDistinctAttribute(t){return this.#t.put({path:`indexes/${this.uid}/settings/distinct-attribute`,body:t})}resetDistinctAttribute(){return this.#t.delete({path:`indexes/${this.uid}/settings/distinct-attribute`})}async getFilterableAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/filterable-attributes`})}updateFilterableAttributes(t){return this.#t.put({path:`indexes/${this.uid}/settings/filterable-attributes`,body:t})}resetFilterableAttributes(){return this.#t.delete({path:`indexes/${this.uid}/settings/filterable-attributes`})}async getSortableAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/sortable-attributes`})}updateSortableAttributes(t){return this.#t.put({path:`indexes/${this.uid}/settings/sortable-attributes`,body:t})}resetSortableAttributes(){return this.#t.delete({path:`indexes/${this.uid}/settings/sortable-attributes`})}async getSearchableAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/searchable-attributes`})}updateSearchableAttributes(t){return this.#t.put({path:`indexes/${this.uid}/settings/searchable-attributes`,body:t})}resetSearchableAttributes(){return this.#t.delete({path:`indexes/${this.uid}/settings/searchable-attributes`})}async getDisplayedAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/displayed-attributes`})}updateDisplayedAttributes(t){return this.#t.put({path:`indexes/${this.uid}/settings/displayed-attributes`,body:t})}resetDisplayedAttributes(){return this.#t.delete({path:`indexes/${this.uid}/settings/displayed-attributes`})}async getTypoTolerance(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/typo-tolerance`})}updateTypoTolerance(t){return this.#t.patch({path:`indexes/${this.uid}/settings/typo-tolerance`,body:t})}resetTypoTolerance(){return this.#t.delete({path:`indexes/${this.uid}/settings/typo-tolerance`})}async getFaceting(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/faceting`})}updateFaceting(t){return this.#t.patch({path:`indexes/${this.uid}/settings/faceting`,body:t})}resetFaceting(){return this.#t.delete({path:`indexes/${this.uid}/settings/faceting`})}async getSeparatorTokens(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/separator-tokens`})}updateSeparatorTokens(t){return this.#t.put({path:`indexes/${this.uid}/settings/separator-tokens`,body:t})}resetSeparatorTokens(){return this.#t.delete({path:`indexes/${this.uid}/settings/separator-tokens`})}async getNonSeparatorTokens(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/non-separator-tokens`})}updateNonSeparatorTokens(t){return this.#t.put({path:`indexes/${this.uid}/settings/non-separator-tokens`,body:t})}resetNonSeparatorTokens(){return this.#t.delete({path:`indexes/${this.uid}/settings/non-separator-tokens`})}async getDictionary(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/dictionary`})}updateDictionary(t){return this.#t.put({path:`indexes/${this.uid}/settings/dictionary`,body:t})}resetDictionary(){return this.#t.delete({path:`indexes/${this.uid}/settings/dictionary`})}async getProximityPrecision(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/proximity-precision`})}updateProximityPrecision(t){return this.#t.put({path:`indexes/${this.uid}/settings/proximity-precision`,body:t})}resetProximityPrecision(){return this.#t.delete({path:`indexes/${this.uid}/settings/proximity-precision`})}async getEmbedders(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/embedders`})}updateEmbedders(t){return this.#t.patch({path:`indexes/${this.uid}/settings/embedders`,body:t})}resetEmbedders(){return this.#t.delete({path:`indexes/${this.uid}/settings/embedders`})}async getSearchCutoffMs(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/search-cutoff-ms`})}updateSearchCutoffMs(t){return this.#t.put({path:`indexes/${this.uid}/settings/search-cutoff-ms`,body:t})}resetSearchCutoffMs(){return this.#t.delete({path:`indexes/${this.uid}/settings/search-cutoff-ms`})}async getLocalizedAttributes(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/localized-attributes`})}updateLocalizedAttributes(t){return this.#t.put({path:`indexes/${this.uid}/settings/localized-attributes`,body:t})}resetLocalizedAttributes(){return this.#t.delete({path:`indexes/${this.uid}/settings/localized-attributes`})}async getFacetSearch(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/facet-search`})}updateFacetSearch(t){return this.#t.put({path:`indexes/${this.uid}/settings/facet-search`,body:t})}resetFacetSearch(){return this.#t.delete({path:`indexes/${this.uid}/settings/facet-search`})}async getPrefixSearch(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/prefix-search`})}updatePrefixSearch(t){return this.#t.put({path:`indexes/${this.uid}/settings/prefix-search`,body:t})}resetPrefixSearch(){return this.#t.delete({path:`indexes/${this.uid}/settings/prefix-search`})}async getChat(){return await this.httpRequest.get({path:`indexes/${this.uid}/settings/chat`})}updateChat(t){return this.#t.patch({path:`indexes/${this.uid}/settings/chat`,body:t})}}class Zt{#t;constructor(t){this.#t=t}async getBatch(t){return await this.#t.get({path:`batches/${t}`})}async getBatches(t){return await this.#t.get({path:"batches",params:t})}}class te{#t;#e;constructor(t,e){this.#t=t,this.#e=e}async get(){return await this.#t.get({path:`chats/${this.#e}/settings`})}async update(t){return await this.#t.patch({path:`chats/${this.#e}/settings`,body:t})}async reset(){await this.#t.delete({path:`chats/${this.#e}/settings`})}async streamCompletion(t){if(!t.stream)throw new Error("The SDK only supports streaming");return await this.#t.postStream({path:`chats/${this.#e}/chat/completions`,body:t})}}class ee{config;httpRequest;#t;get tasks(){return this.#t}#e;get batches(){return this.#e}#s;constructor(t){this.config=t,this.httpRequest=new et(t),this.#t=new st(this.httpRequest,t.defaultWaitOptions),this.#e=new Zt(this.httpRequest),this.#s=it(this.httpRequest,this.tasks)}index(t){return new q(this.config,t)}async getIndex(t){return new q(this.config,t).fetchInfo()}async getRawIndex(t){return new q(this.config,t).getRawInfo()}async getIndexes(t){const e=await this.getRawIndexes(t),s=e.results.map(a=>new q(this.config,a.uid,a.primaryKey));return{...e,results:s}}async getRawIndexes(t){return await this.httpRequest.get({path:"indexes",params:t})}createIndex(t,e){return q.create(t,e,this.config)}updateIndex(t,e){return new q(this.config,t).update(e)}deleteIndex(t){return new q(this.config,t).delete()}async deleteIndexIfExists(t){try{return await this.deleteIndex(t),!0}catch(e){if(e?.cause?.code===Bt.INDEX_NOT_FOUND)return!1;throw e}}swapIndexes(t){return this.#s.post({path:"swap-indexes",body:t})}async multiSearch(t,e){return await this.httpRequest.post({path:"multi-search",body:t,extraRequestInit:e})}chat(t){return new te(this.httpRequest,t)}async getChatWorkspaces(){return await this.httpRequest.get({path:"chats"})}async getWebhooks(){return await this.httpRequest.get({path:"webhooks"})}async getWebhook(t){return await this.httpRequest.get({path:`webhooks/${t}`})}async createWebhook(t){return await this.httpRequest.post({path:"webhooks",body:t})}async updateWebhook(t,e){return await this.httpRequest.patch({path:`webhooks/${t}`,body:e})}async deleteWebhook(t){await this.httpRequest.delete({path:`webhooks/${t}`})}async getNetwork(){return await this.httpRequest.get({path:"network"})}async updateNetwork(t){return await this.httpRequest.patch({path:"network",body:t})}async getKeys(t){const e=await this.httpRequest.get({path:"keys",params:t});return e.results=e.results.map(s=>({...s,createdAt:new Date(s.createdAt),updatedAt:new Date(s.updatedAt)})),e}async getKey(t){return await this.httpRequest.get({path:`keys/${t}`})}async createKey(t){return await this.httpRequest.post({path:"keys",body:t})}async updateKey(t,e){return await this.httpRequest.patch({path:`keys/${t}`,body:e})}async deleteKey(t){await this.httpRequest.delete({path:`keys/${t}`})}async health(){return await this.httpRequest.get({path:"health"})}async isHealthy(){try{const{status:t}=await this.health();return t==="available"}catch{return!1}}async getStats(){return await this.httpRequest.get({path:"stats"})}async getVersion(){return await this.httpRequest.get({path:"version"})}createDump(){return this.#s.post({path:"dumps"})}createSnapshot(){return this.#s.post({path:"snapshots"})}async getExperimentalFeatures(){return await this.httpRequest.get({path:"experimental-features"})}async updateExperimentalFeatures(t){return await this.httpRequest.patch({path:"experimental-features",body:t})}}var se=_('<div class="transition first-of-type:mt-2 lg:first-of-type:mt-0 block rounded-xl text-lg px-3 py-2 text-50">正在搜索...</div>'),ie=_('<div class="transition text-sm text-50" style="display: flex; align-items: flex-start; margin-top: 0.1rem"><span style="display: inline-block; background-color: var(--btn-plain-bg-hover); color: var(--primary); padding: 0.1em 0.4em; border-radius: 5px; font-size: 0.75em; font-weight: 600; margin-right: 0.5em; flex-shrink: 0;">摘要</span> <div><!></div></div>'),ae=_('<div class="transition text-sm text-30" style="display: flex; align-items: flex-start; margin-top: 0.1rem"><span style="display: inline-block; background-color: var(--btn-plain-bg-active); color: var(--primary); padding: 0.1em 0.4em; border-radius: 5px; font-size: 0.75em; font-weight: 600; margin-right: 0.5em; flex-shrink: 0;">内容</span> <div><!></div></div>'),re=_(`<a class="transition first-of-type:mt-2 lg:first-of-type:mt-0 group block
           rounded-xl text-lg px-3 py-2 hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)]"><div class="transition text-90 inline-flex font-bold group-hover:text-[var(--primary)]"><!> <!></div> <!> <!></a>`),ne=_('<div class="transition first-of-type:mt-2 lg:first-of-type:mt-0 block rounded-xl text-lg px-3 py-2 text-50">找不到相关结果。</div>'),oe=_('<div class="transition first-of-type:mt-2 lg:first-of-type:mt-0 block rounded-xl text-lg px-3 py-2 text-50">请输入搜索关键词。</div>'),he=_(`<div id="search-bar" class="hidden lg:flex transition-all items-center h-11 mr-2 rounded-lg
      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]
      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10
"><!> <input class="transition-all pl-10 text-sm bg-transparent outline-0
         h-full w-40 active:w-60 focus:w-60 text-black/50 dark:text-white/50 svelte-15pne9z"/></div> <button aria-label="Search Panel" id="search-switch" class="btn-plain scale-animation lg:!hidden rounded-lg w-11 h-11 active:scale-90"><!></button> <div id="search-panel" class="float-panel float-panel-closed search-panel absolute md:w-[30rem]
top-20 left-4 md:left-[unset] right-4 shadow-2xl rounded-2xl p-2 svelte-15pne9z"><div id="search-bar-inside" class="flex relative lg:hidden transition-all items-center h-11 rounded-xl
      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]
      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10
  "><!> <input placeholder="Search" class="pl-10 absolute inset-0 text-sm bg-transparent outline-0
               focus:w-60 text-black/50 dark:text-white/50 svelte-15pne9z"/></div> <!></div>`,1);function ve(i,t){Kt(t,!1);let e=dt(t,"searchMethod",8),s=dt(t,"meiliSearchConfig",8),a=M(""),r=M(""),n=M([]),u=M(!1),d=M(!1),R=null,at;const ue=[{url:wt("/"),meta:{title:"This Is a Fake Search Result"},excerpt:"Because Pagefind cannot work in the <mark>dev</mark> environment."},{url:wt("/"),meta:{title:"If You Want to Test the Search"},excerpt:"Try running <mark>npm build && npm preview</mark> instead."}],qt=()=>{document.getElementById("search-panel")?.classList.toggle("float-panel-closed")},H=(h,l)=>{const f=document.getElementById("search-panel");!f||l&&!o(a)||!l&&!o(r)||(h?f.classList.remove("float-panel-closed"):f.classList.add("float-panel-closed"))},_t=()=>{document.getElementById("search-panel")?.classList.add("float-panel-closed"),y(a,""),y(r,""),y(n,[])},It=(h,l)=>{h.preventDefault(),_t(),zt(l)},D=async(h,l)=>{if(!h){H(!1,l),y(n,[]);return}o(d)&&(y(u,!0),clearTimeout(at),at=setTimeout(async()=>{try{let f=[];if(e()===z.MeiliSearch){if(!R)throw new Error("MeiliSearch client not initialized.");const I=await R.index(s().INDEX_NAME).search(h,{limit:10,attributesToHighlight:["title","content","description"],attributesToCrop:["content:50"],highlightPreTag:"<mark>",highlightPostTag:"</mark>"});console.log(I),f=I.hits.filter(p=>p._formatted).map(p=>({url:p._formatted?.slug,meta:{title:p._formatted?.title},excerpt:p._formatted?.description,content:p._formatted?.content}))}else if(e()===z.PageFind&&window.pagefind){const O=await window.pagefind.search(h);f=await Promise.all(O.results.map(I=>I.data()))}y(n,f),H(!0,l)}catch(f){console.error("Search error:",f),y(n,[]),H(!1,l)}finally{y(u,!1)}},300))};Mt(()=>{if(e()===z.MeiliSearch)try{R=new ee({host:s().PUBLIC_MEILI_HOST,apiKey:s().PUBLIC_MEILI_SEARCH_KEY}),y(d,!0),console.log("MeiliSearch client initialized.")}catch(h){console.error("Failed to initialize MeiliSearch:",h)}else if(e()===z.PageFind){const h=()=>{y(d,!0),o(a)&&D(o(a),!0),o(r)&&D(o(r),!1)};window.pagefind?h():(document.addEventListener("pagefindready",h,{once:!0}),document.addEventListener("pagefindloaderror",h,{once:!0}))}}),pt(()=>(o(d),o(a)),()=>{o(d)&&(o(a)||o(a)==="")&&D(o(a),!0)}),pt(()=>(o(d),o(r)),()=>{o(d)&&(o(r)||o(r)==="")&&D(o(r),!1)}),Wt(),Lt();var rt=he(),U=C(rt),nt=w(U);j(nt,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var L=b(nt,2);ct(L),x(U);var W=b(U,2),At=w(W);j(At,{icon:"material-symbols:search",class:"text-[1.25rem]"}),x(W);var ot=b(W,2),J=w(ot),ht=w(J);j(ht,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var ut=b(ht,2);ct(ut),x(J);var Et=b(J,2);{var Dt=h=>{var l=se();m(h,l)},Pt=h=>{var l=N(),f=C(l);{var O=p=>{var P=N(),V=C(P);Nt(V,1,()=>o(n),jt,(X,c)=>{var g=re(),$=w(g),K=w($);tt(K,()=>(o(c),k(()=>o(c).meta.title)));var G=b(K,2);j(G,{icon:"fa6-solid:chevron-right",class:"transition text-[0.75rem] translate-x-1 my-auto text-[var(--primary)]"}),x($);var A=b($,2);{var Q=v=>{var S=ie(),F=b(w(S),2),Y=w(F);tt(Y,()=>(o(c),k(()=>o(c).excerpt))),x(F),x(S),m(v,S)};E(A,v=>{o(c),k(()=>o(c).excerpt.includes("<mark>"))&&v(Q)})}var Ft=b(A,2);{var Ct=v=>{var S=ae(),F=b(w(S),2),Y=w(F);tt(Y,()=>(o(c),k(()=>o(c).content))),x(F),x(S),m(v,S)};E(Ft,v=>{o(c),k(()=>o(c).content&&o(c).content.includes("<mark>"))&&v(Ct)})}x(g),gt(()=>lt(g,"href",(o(c),k(()=>o(c).url)))),Z("click",g,v=>It(v,o(c).url)),m(X,g)}),m(p,P)},I=p=>{var P=N(),V=C(P);{var X=g=>{var $=ne();m(g,$)},c=g=>{var $=N(),K=C($);{var G=A=>{var Q=oe();m(A,Q)};E(K,A=>{(o(a)||o(r))&&A(G)},!0)}m(g,$)};E(V,g=>{o(n),k(()=>o(n).length===0)?g(X):g(c,!1)},!0)}m(p,P)};E(f,p=>{o(n),k(()=>o(n).length>0)?p(O):p(I,!1)},!0)}m(h,l)};E(Et,h=>{o(u)?h(Dt):h(Pt,!1)})}x(ot),gt(h=>lt(L,"placeholder",h),[()=>(yt(bt),yt(mt),k(()=>bt(mt.search)))]),ft(L,()=>o(a),h=>y(a,h)),Z("focus",L,()=>D(o(a),!0)),Z("click",W,qt),ft(ut,()=>o(r),h=>y(r,h)),m(i,rt),Ot()}export{ve as default};
