import{s as i}from"./navBarConfig.CJ6ycCKD.js";const c="light",v="dark",p="system",I=c,f="banner",b="overlay",y="none",D=35,W=30,_=D+W;function g(){if(typeof document>"u")return Number.parseInt("250");const t=document.getElementById("config-carrier");return Number.parseInt(t?.dataset.hue||"250")}function L(){return i.themeColor.defaultMode??I}function H(){return typeof window>"u"?c:window.matchMedia("(prefers-color-scheme: dark)").matches?v:c}function B(e){return e===p?H():e}function O(){if(typeof localStorage>"u")return g();const e=localStorage.getItem("hue");return e?Number.parseInt(e):g()}function R(e){if(typeof localStorage>"u"||typeof document>"u")return;localStorage.setItem("hue",String(e));const t=document.querySelector(":root");t&&t.style.setProperty("--hue",String(e))}function q(e){if(typeof document>"u")return;const t=B(e),n=document.documentElement.classList.contains("dark"),s=document.documentElement.getAttribute("data-theme");let a=!1;switch(t){case c:a=!1;break;case v:a=!0;break;default:a=n;break}const o=n!==a,r=s!==(a?"github-dark":"github-light");!o&&!r||(o&&document.documentElement.classList.add("is-theme-transitioning"),requestAnimationFrame(()=>{o&&(a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"));const m=a?"github-dark":"github-light";document.documentElement.setAttribute("data-theme",m),r&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("theme-change"))},0),o&&requestAnimationFrame(()=>{document.documentElement.classList.remove("is-theme-transitioning")})}))}let l=null;function F(e){typeof localStorage>"u"||(q(e),localStorage.setItem("theme",e),e===p?E():k())}function E(){if(k(),typeof window>"u")return;const e=window.matchMedia("(prefers-color-scheme: dark)"),t=n=>{const s=n.matches;document.documentElement.classList.add("is-theme-transitioning"),s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const a=s?"github-dark":"github-light";document.documentElement.setAttribute("data-theme",a),requestAnimationFrame(()=>{document.documentElement.classList.remove("is-theme-transitioning")}),window.dispatchEvent(new CustomEvent("theme-change"))};t(e),e.addEventListener?e.addEventListener("change",t):e.addListener(t),l=t}function k(){if(typeof window>"u"||!l)return;const e=window.matchMedia("(prefers-color-scheme: dark)");e.removeEventListener?e.removeEventListener("change",l):e.removeListener(l),l=null}function C(){return typeof localStorage>"u"?L():localStorage.getItem("theme")||L()}function G(){if(typeof localStorage>"u")return;C()===p&&E()}function S(e){if(!(i.backgroundWallpaper.switchable??!0))return;if((document.documentElement.getAttribute("data-wallpaper-mode")||i.backgroundWallpaper.mode)===e){N(e);return}document.documentElement.classList.add("is-wallpaper-transitioning"),document.documentElement.setAttribute("data-wallpaper-mode",e),requestAnimationFrame(()=>{const s=document.body;switch(s.classList.remove("enable-banner","wallpaper-transparent"),e){case f:s.classList.add("enable-banner"),T();break;case b:s.classList.add("wallpaper-transparent"),M();break;case y:u();break;default:u();break}A(e),requestAnimationFrame(()=>{document.documentElement.classList.remove("is-wallpaper-transitioning")})})}function N(e){const t=document.body;switch(t.classList.remove("enable-banner","wallpaper-transparent"),e){case f:t.classList.add("enable-banner"),T();break;case b:t.classList.add("wallpaper-transparent"),M();break;case y:u();break}A(e)}function T(){const e=document.querySelector("[data-fullscreen-wallpaper]");e&&(e.style.display="none",e.classList.add("hidden"),e.classList.add("opacity-0"),e.classList.remove("opacity-100"));const t=document.getElementById("banner-wrapper");if(t){const r=window.location.pathname==="/"||window.location.pathname==="";t.style.display="block",t.style.setProperty("display","block","important"),requestAnimationFrame(()=>{t.classList.remove("hidden"),t.classList.remove("opacity-0"),t.classList.add("opacity-100"),r?t.classList.remove("mobile-hide-banner"):t.classList.add("mobile-hide-banner")})}const n=document.getElementById("banner-credit-desktop"),s=document.getElementById("banner-credit-mobile");n&&(n.style.display=""),s&&(s.style.display="");const a=document.querySelector(".banner-text-overlay");if(a){const r=i.backgroundWallpaper.banner?.homeText?.enable,m=window.location.pathname==="/"||window.location.pathname==="";r&&m?a.classList.remove("hidden"):a.classList.add("hidden")}h("banner");const o=document.querySelector(".absolute.w-full.z-30");o&&(window.location.pathname==="/"||window.location.pathname===""?o.classList.remove("mobile-main-no-banner"):o.classList.add("mobile-main-no-banner")),w(!1);const d=document.getElementById("navbar");if(d){const r=i.backgroundWallpaper.banner?.navbar?.transparentMode||"semi";d.setAttribute("data-transparent-mode",r),r==="semifull"&&typeof window.initSemifullScrollDetection=="function"&&window.initSemifullScrollDetection()}}function M(){const e=document.querySelector("[data-fullscreen-wallpaper]");e&&(e.style.display="block",e.style.setProperty("display","block","important"),requestAnimationFrame(()=>{e.classList.remove("hidden"),e.classList.remove("opacity-0"),e.classList.add("opacity-100")}));const t=document.getElementById("banner-wrapper");t&&(t.style.display="none",t.classList.add("hidden"),t.classList.add("opacity-0"),t.classList.remove("opacity-100"));const n=document.getElementById("banner-credit-desktop"),s=document.getElementById("banner-credit-mobile");n&&(n.style.display="none"),s&&(s.style.display="none");const a=document.querySelector(".banner-text-overlay");a&&a.classList.add("hidden"),w(!0),h("overlay")}function u(){const e=document.getElementById("banner-wrapper"),t=document.querySelector("[data-fullscreen-wallpaper]");e&&(e.style.display="none",e.classList.add("hidden"),e.classList.add("opacity-0")),t&&(t.style.display="none",t.classList.add("hidden"),t.classList.add("opacity-0"),t.classList.remove("opacity-100"));const n=document.getElementById("banner-credit-desktop"),s=document.getElementById("banner-credit-mobile");n&&(n.style.display="none"),s&&(s.style.display="none");const a=document.querySelector(".banner-text-overlay");a&&a.classList.add("hidden"),h("none"),w(!1)}function A(e){const t=document.getElementById("navbar");if(!t)return;let n;e===b?n="semi":e===y?n="none":n=i.backgroundWallpaper.banner?.navbar?.transparentMode||"semi",t.setAttribute("data-transparent-mode",n),t.classList.remove("navbar-transparent-semi","navbar-transparent-full","navbar-transparent-semifull"),t.classList.remove("scrolled"),n==="semifull"&&e===f&&typeof window.initSemifullScrollDetection=="function"?window.initSemifullScrollDetection():window.semifullScrollHandler&&(window.removeEventListener("scroll",window.semifullScrollHandler),delete window.semifullScrollHandler)}function h(e){const t=document.querySelector(".absolute.w-full.z-30");if(t)switch(t.classList.remove("mobile-main-no-banner","no-banner-layout"),e){case"banner":t.style.top="calc(var(--banner-height) - 3rem)";break;case"overlay":t.classList.add("no-banner-layout"),t.style.top="5.5rem";break;case"none":t.classList.add("no-banner-layout"),t.style.top="5.5rem";break;default:t.style.top="5.5rem";break}}function w(e){const t=document.querySelector(".absolute.w-full.z-30"),n=document.body;!t||!n||(e?(t.classList.add("wallpaper-transparent"),n.classList.add("wallpaper-transparent")):(t.classList.remove("wallpaper-transparent"),n.classList.remove("wallpaper-transparent")))}function j(e){typeof localStorage>"u"||(localStorage.setItem("wallpaperMode",e),S(e))}function z(){const e=P();S(e)}function P(){return typeof localStorage>"u"?i.backgroundWallpaper.mode:localStorage.getItem("wallpaperMode")||i.backgroundWallpaper.mode}export{W as B,v as D,c as L,p as S,f as W,b as a,y as b,F as c,C as d,q as e,O as f,P as g,g as h,R as i,z as j,G as k,D as l,_ as m,j as s};
