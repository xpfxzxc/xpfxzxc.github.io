import{p as E,o as v,i as S,s as k}from"./props.BY9ksYRo.js";import{k as H,i as I,a as r,p as x,b as B,s as h,g as s,m as f,e as M,u as j,f as V,c as G,r as T,t as W,j as q,a1 as w}from"./utils.CFVGCFTS.js";import{i as p}from"./if.C8CkiNwY.js";import{s as g}from"./siteConfig.D4VXPo8I.js";var A=w('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"></path></svg>'),D=w('<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M3 3h7v7H3V3zm0 11h7v7H3v-7zm11-11h7v7h-7V3zm0 11h7v7h-7v-7z"></path></svg>'),F=V('<button aria-label="切换文章列表布局" class="btn-plain scale-animation rounded-lg h-11 w-11 active:scale-90 flex items-center justify-center"><!></button>');function P(L,d){B(d,!1);let e=E(d,"currentLayout",12,"list"),n=f(!1),i=f(!1);function l(){h(i,window.innerWidth<1200),s(i)&&e("list")}v(()=>{h(n,!0),l();const t=localStorage.getItem("postListLayout");return t&&(t==="list"||t==="grid")&&e(t),window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}});function y(){if(!s(n)||s(i))return;e(e()==="list"?"grid":"list"),localStorage.setItem("postListLayout",e());const t=new CustomEvent("layoutChange",{detail:{layout:e()}});window.dispatchEvent(t)}v(()=>{const t=a=>{e(a.detail.layout)};return window.addEventListener("layoutChange",t),()=>{window.removeEventListener("layoutChange",t)}}),v(()=>(setTimeout(()=>{const a=document.getElementById("post-list-container");if(a){const u=a.classList.contains("grid-mode");e(u?"grid":"list")}},100),()=>{})),S();var m=H(),_=I(m);{var z=t=>{var a=F(),u=G(a);{var b=o=>{var c=A();r(o,c)},C=o=>{var c=D();r(o,c)};p(u,o=>{e()==="list"?o(b):o(C,!1)})}T(a),W(()=>k(a,"title",e()==="list"?"切换到网格模式":"切换到列表模式")),q("click",a,y),r(t,a)};p(_,t=>{s(n),M(g),s(i),j(()=>s(n)&&g.postListLayout.allowSwitch&&!s(i))&&t(z)})}r(L,m),x()}export{P as default};
